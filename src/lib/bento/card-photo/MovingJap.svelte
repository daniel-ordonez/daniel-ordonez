<script>
  const rows = 5;
</script>

<div id="moving-jap" class="moving-jap" style="--rows: {rows};">
  {#each new Array(rows) as row, i (i)}
    <div class="bg__animated-row">
      <svg class="jap" viewBox="0 0 1200 300">
        <path
          d="M314.02 50.34L282.34 65.52C270.46 42.64 261.88 26.36 256.6 16.68L288.28 0.839981C298.4 19.32 306.98 35.82 314.02 50.34ZM0.520001 163.53C19.22 145.05 34.62 123.6 46.72 99.18C58.82 74.54 66.41 49.24 69.49 23.28L111.4 25.92C110.52 34.72 108.98 44.51 106.78 55.29H225.25C220.85 46.93 214.8 35.6 207.1 21.3L238.12 5.79C247.14 22.73 255.5 38.9 263.2 54.3L250.99 60.24V68.49C250.99 145.27 233.5 201.92 198.52 238.44C163.76 274.96 107.66 296.41 30.22 302.79L23.29 263.19C59.37 259.67 89.18 253.4 112.72 244.38C136.48 235.14 155.29 222.16 169.15 205.44C139.01 190.26 110.08 176.51 82.36 164.19L103.15 125.91C131.97 138.67 161.12 152.53 190.6 167.49C197.86 148.13 202.37 123.93 204.13 94.89H95.23C81.81 130.31 60.36 162.1 30.88 190.26L0.520001 163.53ZM338.11 89.61V46.71H557.89V89.61H338.11ZM315.01 279.69V236.79H580.99V279.69H315.01ZM625.21 46.71H864.79V86.31H768.1V240.09H874.69V279.69H615.31V240.09H721.9V86.31H625.21V46.71ZM951.91 33.51H996.79V100.5C996.79 145.16 994.26 179.92 989.2 204.78C984.14 229.42 976.22 248.45 965.44 261.87C954.66 275.07 938.49 286.84 916.93 297.18L893.17 260.22C903.95 254.72 912.42 249.55 918.58 244.71C924.74 239.65 930.24 233.6 935.08 226.56C940.14 219.52 943.66 210.39 945.64 199.17C947.84 187.73 949.38 174.53 950.26 159.57C951.36 144.39 951.91 124.7 951.91 100.5V33.51ZM1085.56 248.01C1106.68 242.51 1122.74 231.18 1133.74 214.02C1144.96 196.64 1152.11 171.56 1155.19 138.78L1197.1 144.72C1188.3 244.38 1138.47 294.21 1047.61 294.21H1039.69V33.51H1085.56V248.01Z"
        />
      </svg>
      <svg class="jap" viewBox="0 0 1200 300">
        <path
          d="M314.02 50.34L282.34 65.52C270.46 42.64 261.88 26.36 256.6 16.68L288.28 0.839981C298.4 19.32 306.98 35.82 314.02 50.34ZM0.520001 163.53C19.22 145.05 34.62 123.6 46.72 99.18C58.82 74.54 66.41 49.24 69.49 23.28L111.4 25.92C110.52 34.72 108.98 44.51 106.78 55.29H225.25C220.85 46.93 214.8 35.6 207.1 21.3L238.12 5.79C247.14 22.73 255.5 38.9 263.2 54.3L250.99 60.24V68.49C250.99 145.27 233.5 201.92 198.52 238.44C163.76 274.96 107.66 296.41 30.22 302.79L23.29 263.19C59.37 259.67 89.18 253.4 112.72 244.38C136.48 235.14 155.29 222.16 169.15 205.44C139.01 190.26 110.08 176.51 82.36 164.19L103.15 125.91C131.97 138.67 161.12 152.53 190.6 167.49C197.86 148.13 202.37 123.93 204.13 94.89H95.23C81.81 130.31 60.36 162.1 30.88 190.26L0.520001 163.53ZM338.11 89.61V46.71H557.89V89.61H338.11ZM315.01 279.69V236.79H580.99V279.69H315.01ZM625.21 46.71H864.79V86.31H768.1V240.09H874.69V279.69H615.31V240.09H721.9V86.31H625.21V46.71ZM951.91 33.51H996.79V100.5C996.79 145.16 994.26 179.92 989.2 204.78C984.14 229.42 976.22 248.45 965.44 261.87C954.66 275.07 938.49 286.84 916.93 297.18L893.17 260.22C903.95 254.72 912.42 249.55 918.58 244.71C924.74 239.65 930.24 233.6 935.08 226.56C940.14 219.52 943.66 210.39 945.64 199.17C947.84 187.73 949.38 174.53 950.26 159.57C951.36 144.39 951.91 124.7 951.91 100.5V33.51ZM1085.56 248.01C1106.68 242.51 1122.74 231.18 1133.74 214.02C1144.96 196.64 1152.11 171.56 1155.19 138.78L1197.1 144.72C1188.3 244.38 1138.47 294.21 1047.61 294.21H1039.69V33.51H1085.56V248.01Z"
        />
      </svg>
      <svg class="jap" viewBox="0 0 1200 300">
        <path
          d="M314.02 50.34L282.34 65.52C270.46 42.64 261.88 26.36 256.6 16.68L288.28 0.839981C298.4 19.32 306.98 35.82 314.02 50.34ZM0.520001 163.53C19.22 145.05 34.62 123.6 46.72 99.18C58.82 74.54 66.41 49.24 69.49 23.28L111.4 25.92C110.52 34.72 108.98 44.51 106.78 55.29H225.25C220.85 46.93 214.8 35.6 207.1 21.3L238.12 5.79C247.14 22.73 255.5 38.9 263.2 54.3L250.99 60.24V68.49C250.99 145.27 233.5 201.92 198.52 238.44C163.76 274.96 107.66 296.41 30.22 302.79L23.29 263.19C59.37 259.67 89.18 253.4 112.72 244.38C136.48 235.14 155.29 222.16 169.15 205.44C139.01 190.26 110.08 176.51 82.36 164.19L103.15 125.91C131.97 138.67 161.12 152.53 190.6 167.49C197.86 148.13 202.37 123.93 204.13 94.89H95.23C81.81 130.31 60.36 162.1 30.88 190.26L0.520001 163.53ZM338.11 89.61V46.71H557.89V89.61H338.11ZM315.01 279.69V236.79H580.99V279.69H315.01ZM625.21 46.71H864.79V86.31H768.1V240.09H874.69V279.69H615.31V240.09H721.9V86.31H625.21V46.71ZM951.91 33.51H996.79V100.5C996.79 145.16 994.26 179.92 989.2 204.78C984.14 229.42 976.22 248.45 965.44 261.87C954.66 275.07 938.49 286.84 916.93 297.18L893.17 260.22C903.95 254.72 912.42 249.55 918.58 244.71C924.74 239.65 930.24 233.6 935.08 226.56C940.14 219.52 943.66 210.39 945.64 199.17C947.84 187.73 949.38 174.53 950.26 159.57C951.36 144.39 951.91 124.7 951.91 100.5V33.51ZM1085.56 248.01C1106.68 242.51 1122.74 231.18 1133.74 214.02C1144.96 196.64 1152.11 171.56 1155.19 138.78L1197.1 144.72C1188.3 244.38 1138.47 294.21 1047.61 294.21H1039.69V33.51H1085.56V248.01Z"
        />
      </svg>
    </div>
  {/each}
</div>

<style>
  .moving-jap {
    height: 100%;
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: repeat(var(--rows), 1fr);
    filter: blur(2px);
  }
  .bg__animated-row {
    height: 100%;
    width: auto;
    aspect-ratio: 12 / 1;
    overflow: hidden;
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    opacity: 0.1;
  }
  .bg__animated-row svg {
    height: 100%;
    animation: slide-x 30s linear infinite;
    animation-fill-mode: both;
    fill: white;
  }
  .bg__animated-row:nth-child(odd) svg {
    animation-direction: normal;
  }
  .bg__animated-row:nth-child(even) svg {
    animation-direction: reverse;
  }

  @keyframes slide-x {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-100%);
    }
  }
  @keyframes slide-y {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(100%);
    }
  }

  :global(:root[theme="dark"] .bg__animated-row svg) {
    fill: var(--c-svg, rgba(0, 0, 0, 0.4));
  }
  :global(:root[theme="light"] .bg__animated-row svg) {
    fill: white;
  }
</style>
